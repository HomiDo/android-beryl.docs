<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<title>IDatabaseUpdateScript (Beryl API)</title>
<link rel="stylesheet" type="text/css" href="../../../beryl-style.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="IDatabaseUpdateScript (Beryl API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IDatabaseUpdateScript.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>
			<script type="text/javascript" src="http://docs.android-beryl.googlecode.com/hg/resources/jquery.js"></script>     
<script type="text/javascript" src="http://docs.android-beryl.googlecode.com/hg/resources/jquery.beautyOfCode.js"></script> 
<script type="text/javascript">                                         
$.beautyOfCode.init({
      theme: 'Default',
			brushes: ['Java', 'Xml', 'Plain'],
			defaults: { gutter: false },
			ready: function() {
				$.beautyOfCode.beautifyAll();
			}
		});
 </script> 
			</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/beryl/database/DatabaseUtils.html" title="class in org.beryl.database"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/beryl/database/SqlOnlyCreateScript.html" title="class in org.beryl.database"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/beryl/database/IDatabaseUpdateScript.html" target="_top">Frames</a></li>
<li><a href="IDatabaseUpdateScript.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.beryl.database</div>
<h2 title="Interface IDatabaseUpdateScript" class="title">Interface IDatabaseUpdateScript</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../org/beryl/database/DatabaseCreateScript.html" title="class in org.beryl.database">DatabaseCreateScript</a>, <a href="../../../org/beryl/database/DatabaseUpdateScript.html" title="class in org.beryl.database">DatabaseUpdateScript</a>, <a href="../../../org/beryl/database/SqlOnlyCreateScript.html" title="class in org.beryl.database">SqlOnlyCreateScript</a>, <a href="../../../org/beryl/database/SqlOnlyUpdateScript.html" title="class in org.beryl.database">SqlOnlyUpdateScript</a>, <a href="../../../org/beryl/web/cache/WebCacheOpenHelper.WebCacheCreateDatabaseScript.html" title="class in org.beryl.web.cache">WebCacheOpenHelper.WebCacheCreateDatabaseScript</a>, <a href="../../../org/beryl/web/cache/WebCacheOpenHelper.WebCacheUpdateScript_2.html" title="class in org.beryl.web.cache">WebCacheOpenHelper.WebCacheUpdateScript_2</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">IDatabaseUpdateScript</span></pre>
<div class="block">Contract for database update routines.
 Update scripts will only be called when the database detects that it needs to be upgraded.
 Scripts are guaranteed to run in sequential order and only need to assume that they will run from the previous
 version of the database schema. IE: Version 5 script will run only against version 4 databases.
 An exception is the create script which will run from an empty database.

 Typically this interface is not implemented directly.
 Extend from either <a href="../../../org/beryl/database/DatabaseCreateScript.html" title="class in org.beryl.database"><code>DatabaseCreateScript</code></a> or <a href="../../../org/beryl/database/DatabaseUpdateScript.html" title="class in org.beryl.database"><code>DatabaseUpdateScript</code></a>.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/beryl/database/IDatabaseUpdateScript.html#onAfterSchemaUpdate(org.beryl.database.DatabaseUpdateParameters)">onAfterSchemaUpdate</a></strong>(<a href="../../../org/beryl/database/DatabaseUpdateParameters.html" title="class in org.beryl.database">DatabaseUpdateParameters</a>&nbsp;params)</code>
<div class="block">Event handler for when the database's schema has been updated to this version.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/beryl/database/IDatabaseUpdateScript.html#onBeforeSchemaUpdate(org.beryl.database.DatabaseUpdateParameters)">onBeforeSchemaUpdate</a></strong>(<a href="../../../org/beryl/database/DatabaseUpdateParameters.html" title="class in org.beryl.database">DatabaseUpdateParameters</a>&nbsp;params)</code>
<div class="block">Event handler for when a database is about to be upgraded from the previous version.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/beryl/database/IDatabaseUpdateScript.html#updateSchema(org.beryl.database.DatabaseUpdateParameters)">updateSchema</a></strong>(<a href="../../../org/beryl/database/DatabaseUpdateParameters.html" title="class in org.beryl.database">DatabaseUpdateParameters</a>&nbsp;params)</code>
<div class="block">Handles the actual update of the database schema.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="onBeforeSchemaUpdate(org.beryl.database.DatabaseUpdateParameters)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onBeforeSchemaUpdate</h4>
<pre>void&nbsp;onBeforeSchemaUpdate(<a href="../../../org/beryl/database/DatabaseUpdateParameters.html" title="class in org.beryl.database">DatabaseUpdateParameters</a>&nbsp;params)</pre>
<div class="block">Event handler for when a database is about to be upgraded from the previous version.
 Called before the update schema patch is applied.
 Typically used to prepare or migrate data that would otherwise be corrupt when the new schema is applied.</div>
</li>
</ul>
<a name="updateSchema(org.beryl.database.DatabaseUpdateParameters)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateSchema</h4>
<pre>void&nbsp;updateSchema(<a href="../../../org/beryl/database/DatabaseUpdateParameters.html" title="class in org.beryl.database">DatabaseUpdateParameters</a>&nbsp;params)</pre>
<div class="block">Handles the actual update of the database schema.
 Typically the use of a <a href="../../../org/beryl/database/SqlScriptReader.html" title="class in org.beryl.database"><code>SqlScriptReader</code></a> and <a href="../../../org/beryl/database/SqlScriptRunner.html" title="class in org.beryl.database"><code>SqlScriptRunner</code></a> are used to apply the new schema from a sql file.</div>
</li>
</ul>
<a name="onAfterSchemaUpdate(org.beryl.database.DatabaseUpdateParameters)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>onAfterSchemaUpdate</h4>
<pre>void&nbsp;onAfterSchemaUpdate(<a href="../../../org/beryl/database/DatabaseUpdateParameters.html" title="class in org.beryl.database">DatabaseUpdateParameters</a>&nbsp;params)</pre>
<div class="block">Event handler for when the database's schema has been updated to this version.
 Use this to populate new data pertinent to this new version.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IDatabaseUpdateScript.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>
			<script type="text/javascript" src="http://docs.android-beryl.googlecode.com/hg/resources/jquery.js"></script>     
<script type="text/javascript" src="http://docs.android-beryl.googlecode.com/hg/resources/jquery.beautyOfCode.js"></script> 
<script type="text/javascript">                                         
$.beautyOfCode.init({
      theme: 'Default',
			brushes: ['Java', 'Xml', 'Plain'],
			defaults: { gutter: false },
			ready: function() {
				$.beautyOfCode.beautifyAll();
			}
		});
 </script> 
			</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/beryl/database/DatabaseUtils.html" title="class in org.beryl.database"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/beryl/database/SqlOnlyCreateScript.html" title="class in org.beryl.database"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/beryl/database/IDatabaseUpdateScript.html" target="_top">Frames</a></li>
<li><a href="IDatabaseUpdateScript.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
